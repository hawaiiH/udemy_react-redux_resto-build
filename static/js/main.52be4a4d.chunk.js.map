{"version":3,"sources":["components/app-header/shopping-cart-solid.svg","components/app/food-bg.jpg","components/menu-list-item/index.js","components/menu-list-item/menu-list-item.js","components/resto-service-context/index.js","components/resto-service-context/resto-service-context.js","components/hoc/index.js","components/hoc/with-resto-service.js","actions/index.js","components/spinner/index.js","components/spinner/spinner.js","components/error/index.js","components/error/error.js","components/menu-list/menu-list.js","components/menu-list/index.js","components/pages/main-page.js","components/cart-table/cart-table.js","components/cart-table/index.js","components/pages/cart-page.js","components/pages/item-page.js","components/app-header/index.js","components/app-header/app-header.js","components/app/index.js","components/app/app.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","services/resto-service.js","reducers/index.js","store.js","index.js"],"names":["module","exports","__webpack_require__","p","MenuListItem","_ref","menuItem","onAddToCart","title","price","url","category","id","react_default","a","createElement","Fragment","className","react_router_dom","to","concat","src","alt","onClick","RestoServiceContext","React","createContext","WithRestoService","Wrapped","props","components_resto_service_context","Consumer","RestoService","Object","assign","menuLoaded","newMenu","type","payload","menuRequested","menuError","Spinner","Error","MenuList","_this","this","getMenuItems","then","res","console","log","catch","error","_this$props","menuItems","loading","addedToCart","components_error","components_spinner","items","map","components_menu_list_item","key","menu_list_View","Component","mapDispatchToProps","View","connect","state","menu","MainPage","components_menu_list","cleanCart","func","item","generateOrder","qtty","removedFromCart","plus","CartTable","_ref2","length","setOrder","CartPage","components_cart_table","ItemPage","_this2","find","el","match","params","AppHeader","totalPrice","cartIcon","App","style","background","Background","components_app_header","react_router","path","exact","component","ErrorBoundry","setState","children","_apiBase","fetch","ok","status","json","getResource","order","number","newOrder","method","headers","Content-Type","body","JSON","stringify","initialState","categories","reducer","arguments","undefined","action","objectSpread","currState","currInd","findIndex","newIt","toConsumableArray","slice","itemInd","itemState","newItem","idx","itemIndex","itemPrice","itemQtty","categor","isCategory","keys","categorState","updatedCategorie","store","createStore","restoService","ReactDOM","render","es","error_boundry","Provider","value","components_app","document","getElementById"],"mappings":"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","file":"static/js/main.52be4a4d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/shopping-cart-solid.701d6d1d.svg\";","module.exports = __webpack_public_path__ + \"static/media/food-bg.698e5e80.jpg\";","import MenuListItem from './menu-list-item';\nexport default MenuListItem;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './menu-list-item.scss';\n\n\nconst MenuListItem = ( {menuItem, onAddToCart}) => {\n    const {title, price, url, category, id} = menuItem;\n    \n    return (\n        <>\n            <li className=\"menu__item\">\n                <div className=\"menu__title\">{title}</div>\n                <Link to = {`/${id}`}>\n                    <img className=\"menu__img\" src={url} alt={title}></img>\n                </Link>\n                <div className=\"menu__category\">Category: <span>{category}</span></div>\n                <div className=\"menu__price\">Price: <span>{price}$</span></div>\n                <button onClick={() => onAddToCart()} className=\"menu__btn\">Add to cart</button>\n                <span className = {`menu__category_Img ${category}`}></span>\n\n            </li>\n        </>\n    )\n}\n\n\n\nexport default MenuListItem;","import RestoServiceContext from './resto-service-context';\n\nexport default RestoServiceContext;","import React from 'react';\r\n\r\nconst RestoServiceContext = React.createContext();\r\n\r\nexport default RestoServiceContext;","import WithRestoService from './with-resto-service';\n\nexport default WithRestoService;","import React from 'react';\nimport RestoServiceContext from '../resto-service-context';\n\nconst WithRestoService = () => (Wrapped) => {\n    return (props) => {\n        return (\n            <RestoServiceContext.Consumer>\n                {\n                    (RestoService) => {\n                        return <Wrapped {...props} RestoService={RestoService}/>\n                    }\n                }\n            </RestoServiceContext.Consumer>\n        )\n    };\n};\n\nexport default WithRestoService;","const menuLoaded = (newMenu) => {\r\n    return {\r\n        type: 'MENU_LOADED',\r\n        payload: newMenu\r\n    };\r\n};\r\n\r\nconst menuRequested = () => {\r\n    return {\r\n        type: 'MENU_REQUESTED'\r\n    };\r\n};\r\n\r\nconst menuError = () => {\r\n    return {\r\n        type: 'MENU_ERROR'\r\n    }\r\n}\r\n\r\nconst addedToCart = (id) => {\r\n    return {\r\n        type: 'ADDED_TO_CART',\r\n        payload: id\r\n    };\r\n};\r\n\r\nconst removedFromCart = (id) => {\r\n    return {\r\n        type: 'REMOVE_FROM_CART',\r\n        payload: id\r\n    }\r\n};\r\n\r\nconst plus = (id) => {\r\n    return {\r\n        type: 'PLUS',\r\n        payload: id\r\n    };\r\n};\r\n\r\n\r\nexport {\r\n    menuLoaded,\r\n    menuRequested,\r\n    menuError,\r\n    addedToCart,\r\n    removedFromCart,\r\n    plus\r\n}","import Spinner from './spinner';\n\nexport default Spinner;","import React from 'react';\n\nconst Spinner = () => {\n    return <div className=\"spinner\">loading...</div>\n}\n\nexport default Spinner;","import Error from './error';\n\nexport default Error;","import React from 'react';\n\nconst Error = () => {\n    return <div className=\"error\">Error</div>\n}\n\nexport default Error;","import React, {Component} from 'react';\nimport MenuListItem from '../menu-list-item';\nimport { connect } from 'react-redux';\nimport WithRestoService from '../hoc';\nimport {menuLoaded, menuRequested, menuError, addedToCart} from '../../actions';\nimport Spinner from '../spinner';\nimport Error from '../error';\n\nimport './menu-list.scss';\n\nclass MenuList extends Component {\n\n    componentDidMount() {\n        this.props.menuRequested();\n\n        const {RestoService} = this.props;\n        RestoService.getMenuItems()\n            .then(res => {\n                console.log(res)\n                this.props.menuLoaded(res)})\n            .catch(error => this.props.menuError());\n    }\n\n    render() {\n        const {menuItems, loading, error, addedToCart} = this.props;\n        if (error){\n            return <Error/>\n        }\n        if (loading) {\n            return <Spinner/>\n        }\n        const items = menuItems.map(menuItem => {\n                return (\n                    <MenuListItem \n                        key={menuItem.id}\n                        menuItem={menuItem}\n                        onAddToCart={() => addedToCart(menuItem.id)}/>\n                )\n            })\n\n        return (\n            <View items = {items}/> \n            )\n    }\n};\n\nconst mapStateToProps =  (state) =>{\n    return {\n        menuItems: state.menu,\n        loading: state.loading,\n        error: state.error\n    }\n}\n\n\nconst mapDispatchToProps = {\n    menuLoaded,\n    menuRequested,\n    menuError,\n    addedToCart\n}\n\n\nconst View = ({items}) => {\n\n    return (\n        <ul className=\"menu__list\">\n            {items}\n        </ul>\n    ) \n}\n\nexport default WithRestoService ()( connect(mapStateToProps, mapDispatchToProps)(MenuList) );","import MenuList from './menu-list';\nexport default MenuList;","import React from 'react';\nimport MenuList from '../menu-list';\n\nconst MainPage = () => {\n    return (\n        <MenuList/>\n    )\n}\n\nexport default MainPage;\n","import React from 'react';\nimport './cart-table.scss';\nimport {connect} from 'react-redux';\nimport {removedFromCart, plus} from '../../actions';\nimport WithRestoService from '../hoc';\n\nconst CartTable = ({items, removedFromCart, RestoService, plus}) => {\n    if (items.length === 0) {\n        return (\n            <div className=\"cart__title\">Ваш корзина пуста :(</div>\n        )\n    }\n\n    return (\n        <>\n            <div className=\"cart__title\">Ваш заказ:</div>\n            <div className=\"cart__list\">\n                {\n                    items.map(item => {\n                        const {title, price, url, id} = item;\n                        return (\n                            <div key={id} className=\"cart__item\">\n                                <img src={url} className=\"cart__item-img\" alt={title}></img>\n                                <div className=\"cart__item-title\">{title}</div>\n                                <div className=\"cart__item-price\">{price}$ | x{item.qtty}</div>\n                                <div onClick={() => removedFromCart(id)} className=\"cart__close\">&times;</div>\n                                <button onClick={() => plus(id)}>+</button>\n                            </div>\n                        )\n                    })\n                }\n            </div>\n            <button onClick={() => {\n                console.log(items)\n                RestoService.setOrder(generateOrder(items));\n                cleanCart(items, removedFromCart);\n            }}\n                className=\"cart__btn\">Purchase</button>\n        </>\n    );\n};\n\nconst cleanCart = (items, func) => {\n    items.map(item => func(item.id));\n}\n\n\nconst generateOrder = (items) => {\n    const newOrder = items.map(item => {\n        return {\n            id: item.id,\n            qtty: item.qtty\n        }\n    })\n    return newOrder;\n}\n\nconst mapStateToProps = ({items}) => {\n    return {\n        items\n    }\n};\n\nconst mapDispatchToProps = {\n    removedFromCart,\n    plus\n}\n\nexport default WithRestoService()(connect(mapStateToProps, mapDispatchToProps)(CartTable));","import CartTable from './cart-table';\n\nexport default CartTable;","import React from 'react';\nimport CartTable from '../cart-table';\n\nconst CartPage = () => {\n    return (\n        <div className=\"cart\"> \n            <CartTable/>\n        </div>\n    )\n}\n\nexport default CartPage;","import React, {Component} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport WithRestoService from '../hoc/';\r\nimport Spinner from '../spinner';\r\nimport {menuLoaded, menuRequested, menuError} from '../../actions';\r\n\r\nimport './item-page.css';\r\n\r\nclass ItemPage extends Component {\r\n\r\n    componentDidMount() {\r\n        if( this.props.menuItems.length === 0){\r\n            this.props.menuRequested();\r\n\r\n            const {RestoService} = this.props;\r\n            RestoService.getMenuItems()\r\n                .then(res => this.props.menuLoaded(res))\r\n                .catch(error => this.props.menuError());\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if(this.props.loading) {\r\n            return (\r\n                <div className = \"item_page\">\r\n                    <Spinner/>\r\n                </div>\r\n            )\r\n        }\r\n        const item = this.props.menuItems.find(el => +el.id === +this.props.match.params.id)\r\n        const{title, url, category, price} = item;\r\n\r\n        return (\r\n            <div className = \"item_page\">\r\n                <div className=\"menu__item item_block\">\r\n                     <div className=\"menu__title\">{title}</div>\r\n                    <img className=\"menu__img\" src={url} alt={title}></img>\r\n                    <div className=\"menu__category\">Category: <span>{category}</span></div>\r\n                    <div className=\"menu__price\">Price: <span>{price}$</span></div>\r\n                    <button className=\"menu__btn\">Add to cart</button>\r\n                    <span className = {`menu__category_Img ${category}`}></span> \r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps =  (state) =>{\r\n    return {\r\n        menuItems: state.menu,\r\n        loading: state.loading,\r\n        error: state.error\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    menuLoaded: menuLoaded,\r\n    menuRequested,\r\n    menuError\r\n}\r\n\r\nexport default WithRestoService ()( connect(mapStateToProps, mapDispatchToProps)(ItemPage) );","import AppHeader from './app-header';\n\nexport default AppHeader;","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport cartIcon from './shopping-cart-solid.svg';\nimport './app-header.scss';\nimport {connect} from 'react-redux';\n\nconst AppHeader = ({totalPrice}) => {\n    return (\n        <header className=\"header\">\n            <Link to={'/udemy_react-redux_resto-build/'} className=\"header__link\">\n                Menu\n            </Link>\n            <Link to='/cart' className=\"header__link\">\n                <img className=\"header__cart\" src={cartIcon} alt=\"cart\"></img>\n                Total: {totalPrice} $\n            </Link>\n        </header>\n    )\n};\n\nconst mapStateToProps = ({totalPrice}) => {\n    return {\n        totalPrice\n    }\n};\n\nexport default connect(mapStateToProps)(AppHeader);","import App from './app';\n\nexport default App;","import React from 'react';\nimport {MainPage, CartPage, ItemPage} from '../pages';\nimport AppHeader from '../app-header';\n\nimport Background from './food-bg.jpg';\nimport { Route, Switch } from 'react-router-dom';\n\nconst App = () => {\n    return (\n        <div style={{background: `url(${Background}) center center/cover no-repeat`}} className=\"app\">\n            <AppHeader/>\n            <Switch>\n                <Route path = '/udemy_react-redux_resto-build/' exact component = {MainPage}/>\n                <Route path = '/cart' exact component = {CartPage}/>\n                <Route path = '/:id' component ={ItemPage}/>\n            </Switch>\n        </div>\n    )\n}\nexport default App;","import ErrorBoundry from './error-boundry';\n\nexport default ErrorBoundry;","import React, {Component} from 'react';\nimport Error from '../error';\n\nexport default class ErrorBoundry extends Component {\n    \n    state = {\n        error: false\n    }\n\n    componentDidCatch() {\n        this.setState({error:true});\n    }\n\n    render() {\n        if (this.state.error) {\n            return <Error/>\n        }\n        return this.props.children;\n    }\n}","export default class RestoService{\r\n    _apiBase = 'https://my-json-server.typicode.com/hawaiiH/udemy_react-redux_resto';\r\n\r\n    async getResource(url) {\r\n        const res = await fetch(`${this._apiBase}${url}`);\r\n        if (!res.ok) {\r\n            throw new Error(`Could not fetch ${url}` + \r\n                `, received ${res.status}`);\r\n        }\r\n        return await res.json();\r\n    }\r\n\r\n    async getMenuItems () {\r\n        return await this.getResource('/menu/');\r\n    }\r\n\r\n    async getItem(id) {\r\n        const res = await this.getResource('/menu/');\r\n        const item = res.find( (el) => {\r\n            return el.id === +id;\r\n        }) \r\n        return item;\r\n    } \r\n\r\n    async setOrder(order) {\r\n        const res = await this.getResource('/orders/');\r\n        const number = res.length+1;\r\n        const newOrder = {\r\n            id: number,\r\n            order: order\r\n        }\r\n        const response = await fetch(`${this._apiBase}/orders`, {\r\n            method: 'POST', \r\n            headers: {\r\n                'Content-Type': 'application/json;charset=utf-8'\r\n            },\r\n            body: JSON.stringify(newOrder)\r\n        });\r\n        if (!response.ok){\r\n            throw new Error('json error'); \r\n        }\r\n    }\r\n}","const initialState = {\r\n    menu: [],\r\n    loading: true,\r\n    error: false,\r\n    items: [],\r\n    totalPrice: 0,\r\n    categories: {}\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'MENU_LOADED':\r\n            return {\r\n                ...state,\r\n                menu: action.payload,\r\n                loading: false,\r\n                error: false\r\n            };\r\n        case 'MENU_REQUESTED':\r\n            return {\r\n                ...state,\r\n                menu: state.menu,\r\n                loading: true,\r\n                error: false\r\n            };\r\n        case 'MENU_ERROR':\r\n            return {\r\n                ...state,\r\n                menu: state.menu,\r\n                loading: false,\r\n                error: true\r\n            };\r\n        case 'PLUS':\r\n            const currState = state.items.find(item => item.id = action.payload);\r\n            const currInd = state.items.findIndex(item => item.id === action.payload)\r\n            const newIt = {\r\n                ...currState,\r\n                qtty: ++currState.qtty\r\n            }\r\n            return {\r\n                ...state,\r\n                items: [\r\n                    ...state.items.slice(0, currInd),\r\n                    newIt,\r\n                    ...state.items.slice(currInd + 1)\r\n                ],\r\n                totalPrice: state.totalPrice + newIt.price\r\n            }\r\n        case 'ADDED_TO_CART':\r\n            const id = action.payload;\r\n            // console.log('iddd', id);\r\n            // const item = state.menu.find(item => item.id === id);\r\n            const itemInd = state.items.findIndex(item => item.id === id)\r\n            if (itemInd >= 0) {\r\n                const itemState =  state.items.find(item => item.id === id);\r\n                const newItem = {\r\n                    ...itemState,\r\n                    qtty: ++itemState.qtty\r\n                };\r\n                return {\r\n                    ...state,\r\n                    items: [\r\n                        ...state.items.slice(0, itemInd),\r\n                        newItem,\r\n                        ...state.items.slice(itemInd + 1)\r\n                    ],\r\n                    totalPrice: state.totalPrice + newItem.price\r\n                };\r\n            };\r\n            const item = state.menu.find(item => item.id === id);\r\n            const newItem = {\r\n                title: item.title,\r\n                price: item.price,\r\n                url: item.url,\r\n                id: item.id,\r\n                qtty: 1\r\n            };\r\n            return {\r\n                ...state,\r\n                items: [\r\n                    ...state.items,\r\n                    newItem\r\n                ],\r\n                totalPrice: state.totalPrice + newItem.price\r\n            }\r\n        case 'REMOVE_FROM_CART':\r\n            const idx = action.payload;\r\n            const itemIndex = state.items.findIndex(item => item.id === idx);\r\n            const itemPrice = state.items[itemIndex].price;\r\n            const itemQtty = state.items[itemIndex].qtty;\r\n            return {\r\n                ...state,\r\n                items: [\r\n                    ...state.items.slice(0, itemIndex),\r\n                    ...state.items.slice(itemIndex + 1)\r\n                ],\r\n                totalPrice: state.totalPrice - (itemPrice*itemQtty)\r\n            }\r\n        case 'MAKE_CATEGORIES':\r\n            const categor = action.payload;\r\n            const isCategory = state.categories.keys().findIndex(item => item === categor);\r\n            const categorState = state.categories;\r\n            if (isCategory >= 0) {\r\n                const updatedCategorie = ++categorState[categor];\r\n                console.log(updatedCategorie);\r\n                return {\r\n                    ...state,\r\n                    categories:{\r\n                        ...state.categories,\r\n                        updatedCategorie\r\n\r\n                    }\r\n                }\r\n            }\r\n            return {\r\n                ...state,\r\n                categories: {\r\n                    ...state.categories,\r\n                    categor: 1\r\n                }\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","import {createStore} from 'redux';\r\nimport reducer from './reducers';\r\n\r\nconst store = createStore(reducer);\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app';\nimport {Provider} from 'react-redux';\nimport {BrowserRouter as Router} from 'react-router-dom';\nimport ErrorBoundry from './components/error-boundry';\nimport RestoService from './services/resto-service';\nimport RestoServiceContext from './components/resto-service-context';\nimport store from './store';\n\nimport './index.scss';\n\nconst restoService = new RestoService();\n\nReactDOM.render(\n    <Provider store={store}>\n        <ErrorBoundry>\n            <RestoServiceContext.Provider value={restoService}>\n                <Router>\n                    <App/>\n                </Router>\n            </RestoServiceContext.Provider>\n        </ErrorBoundry>\n    </Provider>\n    , document.getElementById('root'));\n\n"],"sourceRoot":""}